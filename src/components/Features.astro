---
import oppluxInventory from "../assets/opplux_inventory.png";
import transport from "../assets/transport.png";
import consultancy from "../assets/consultancy.png";
import handshake from "../assets/handshake.png";
import { ArrowRight } from "lucide-astro";

const features = [
    {
        title: "DISPONIBILIDAD INMEDIATA",
        description:
            "Stock real y despacho el mismo día si el pago se confirma antes del mediodía — para que no esperes demoras de importación.",
        image: oppluxInventory.src,
    },
    {
        title: "CUMPLIMOS NORMAS Y CERTIFICACIONES",
        description:
            "Nuestros equipos están certificados con NOM, UL, ANCE y estándares para Clase I y II, asegurando operación confiable y legal incluso en áreas peligrosas.",
        image: transport.src,
    },
    {
        title: "GARANTIA DE 5 AÑOS Y SOPORTE TECNICO",
        description:
            "Garantía + soporte técnico directo 24/7. Documentación completa para auditorías y cumplimiento regulatorio.",
        image: consultancy.src,
    },
    {
        title: "COBERTURA NACIONAL Y ASESORIA EXPERTA",
        description:
            "Entregamos en toda la República Mexicana y te asesoramos técnicamente en cada fase de tu proyecto de iluminación.",
        image: handshake.src,
    },
];
---

<section class="py-12 lg:py-24 bg-zinc-100 text-black">
    <div class="container mx-auto px-6">
        {/* Header Section */}
        <div
            class="flex flex-col md:flex-row justify-between items-start gap-6 md:gap-12 mb-10 md:mb-16"
        >
            <div class="max-w-lg">
                <h2
                    class="text-5xl lg:text-7xl font-extrabold tracking-tighter uppercase leading-[0.9]"
                >
                    ¿POR QUÉ<br />
                    ELEGIR <span class="text-[#FF8351]">OPPLUX?</span>
                </h2>
            </div>
            <div class="max-w-md">
                <p
                    class="text-zinc-600 text-md lg:text-lg leading-relaxed font-normal"
                >
                    Entendemos el sector: cada día sin luz genera costos y
                    riesgos. En Opplux somos tu socio estratégico; ofrecemos
                    disponibilidad, cumplimiento normativo y respaldo total para
                    asegurar tu proyecto.
                </p>
            </div>
        </div>

        {/* Grid Layout */}
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            {
                features.map((feature, index) => (
                    <div
                        class="feature-card group relative aspect-[3/4] overflow-hidden rounded-xl bg-black opacity-0 translate-y-8 transition-all duration-700 ease-out"
                        style={`transition-delay: ${index * 100}ms`}
                    >
                        {/* Background Image */}
                        <img
                            src={feature.image}
                            alt={feature.title}
                            class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:opacity-40 group-hover:scale-110 transition-all duration-700"
                        />

                        {/* Overlay Gradient */}
                        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent" />

                        {/* Text Content Centered/Overlay */}
                        <div class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 z-10">
                            <h3 class="text-3xl font-bold uppercase text-[#FF8351] leading-none mb-4 drop-shadow-lg transform group-hover:-translate-y-2 transition-transform duration-300">
                                {feature.title}
                            </h3>

                            {/* Description reveals on hover */}
                            <div class="grid grid-rows-[0fr] group-hover:grid-rows-[1fr] transition-all duration-300">
                                <div class="overflow-hidden">
                                    <p class="text-white font-normal text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100">
                                        {feature.description}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                ))
            }
        </div>

        {/* CTA Section */}
        <div
            class="mt-20 pt-12 border-t border-zinc-200 flex flex-col items-center justify-center text-center gap-8"
        >
            <p
                class="text-zinc-500 text-lg md:text-xl max-w-3xl leading-relaxed"
            >
                Si buscas un proveedor sólido, transparente y con disponibilidad
                inmediata, agrega los productos al carrito de cotización y
                cotiza ahora mismo.
            </p>
            <a
                href="/productos"
                class="flex items-center gap-2 text-zinc-900 hover:text-[#FF8351] transition-all duration-300 font-bold group text-lg border-b-2 border-[#FF8351]/20 hover:border-[#FF8351] pb-1"
            >
                <span>Ver Catálogo de Productos</span>
                <ArrowRight
                    size={20}
                    class="group-hover:translate-x-1 transition-transform"
                />
            </a>
        </div>
    </div>
</section>

<script>
    const observerOptions = {
        root: null,
        rootMargin: "0px",
        threshold: 0.1,
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.classList.remove("opacity-0", "translate-y-8");
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    document.querySelectorAll(".feature-card").forEach((card) => {
        observer.observe(card);
    });
</script>
